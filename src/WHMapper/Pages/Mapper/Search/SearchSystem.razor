@using WHMapper.Models.DTO.SDE

<MudDialog>
    <DialogContent>
        <MudForm @bind-IsValid="@_success" @ref="@_form">
            <MudAutocomplete T="SDESolarSystem" Label="System Name" @bind-Value="_searchResult" SearchFunc="@EveMapperSearch.SearchSystem"
                Margin="Margin.Dense" Dense="true"
                Required="true" ResetValueOnEmptyText="true" CoerceValue="true" CoerceText="true"
                Validation="@(new Func<string, IEnumerable<string>>(EveMapperSearch.ValidateSearchType))"
                AdornmentIcon="@Icons.Material.Filled.Search" 
                AdornmentColor="Color.Primary" 
                ToStringFunc="@(x=> x==null?null : $"{x.Name}")" 
                MinCharacters="@Services.EveMapper.IEveMapperSearch.MIN_SEARCH_SYSTEM_CHARACTERS" />
        </MudForm>
    </DialogContent>
    <DialogActions>
        <MudButton Color="Color.Error" OnClick="Cancel">Cancel</MudButton>
        <MudButton Color="Color.Success" OnClick="Submit" Disabled="@(_success==false)">Add System</MudButton>
    </DialogActions>
</MudDialog>
